//
// Styles d'accessibilité
// Amélioration de l'expérience pour tous les utilisateurs
//

// ===================================
// FOCUS ET NAVIGATION AU CLAVIER
// ===================================

// Style de focus visible et cohérent
*:focus {
  outline: 2px solid $secondary-color;
  outline-offset: 2px;
}

// Focus spécifique pour les boutons
.btn:focus {
  outline: none;
  box-shadow: 0 0 0 3px rgba($primary-color, 0.3);
}

// Focus pour les liens
a:focus {
  outline: 2px solid $secondary-color;
  outline-offset: 2px;
  text-decoration: none;
}

// ===================================
// SKIP LINKS (saut de navigation)
// ===================================

.skip-link {
  position: absolute;
  top: -40px;
  left: 6px;
  background: $primary-color;
  color: $white;
  padding: $spacing-2 $spacing-4;
  border-radius: $border-radius;
  text-decoration: none;
  font-weight: $font-weight-bold;
  z-index: $z-modal;
  transition: top $transition-fast;
  
  &:focus {
    top: 6px;
    outline: 2px solid $white;
  }
}

// ===================================
// LECTEURS D'ÉCRAN
// ===================================

// Texte masqué visuellement mais accessible aux lecteurs d'écran
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

// Texte visible au focus (utile pour les instructions)
.sr-only-focusable:focus {
  position: static;
  width: auto;
  height: auto;
  margin: 0;
  overflow: visible;
  clip: auto;
  white-space: normal;
}

// ===================================
// CONTRASTES ET LISIBILITÉ
// ===================================

// Mode haut contraste (activable par JS)
@media (prefers-contrast: high) {
  :root {
    --primary-color: #000000;
    --secondary-color: #0066cc;
    --text-color: #000000;
    --bg-color: #ffffff;
  }
}

// Réduction de mouvement pour les utilisateurs sensibles
@media (prefers-reduced-motion: reduce) {
  *, *::before, *::after {
    animation-duration: 0.01ms !important;
    animation-iteration-count: 1 !important;
    transition-duration: 0.01ms !important;
    scroll-behavior: auto !important;
  }
  
  // Garde les animations essentielles mais les rend instantanées
  .skill-progress-bar {
    transition: width 0.01ms !important;
  }
}

// ===================================
// FORMULAIRES ACCESSIBLES
// ===================================

// Messages d'erreur accessibles
.form-error {
  color: $error-color;
  font-size: $font-size-sm;
  margin-top: $spacing-1;
  
  &[role="alert"] {
    // Annoncé immédiatement par les lecteurs d'écran
    font-weight: $font-weight-bold;
  }
}

// Labels obligatoires
.required::after {
  content: ' *';
  color: $error-color;
  font-weight: $font-weight-bold;
}

// ===================================
// RESPONSIVE ET ZOOM
// ===================================

// Support du zoom jusqu'à 200%
@media (max-width: 1280px) {
  .container {
    padding: 0 $spacing-4;
  }
  
  .navbar-nav {
    font-size: $font-size-lg;
    
    a {
      padding: $spacing-3;
    }
  }
}
